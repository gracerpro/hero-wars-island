<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <title>Backend API for Adventure Island - Hero Wars Dominion Era</title>
    <meta name="description" content="This API help to upgrade the Adventure Island - Hero Wars Dominion Era">
    <meta name="keywords" content="backend, api, adventure, island, hero wars dominion era">
  </head>
  <body>
    <noscript>
      <strong>We're sorry but page doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div>
      <a href="/" id="homeLink">Home</a>
    </div>
    <div id="swagger-ui">
      <div class="loading">Loading...</div>
    </div>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const locale = urlParams.get('locale');

      if (locale) {
        document.getElementById("homeLink").setAttribute("href", "/" + locale);
      }
    </script>

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.11.7/swagger-ui.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.11.7/swagger-ui-bundle.min.js"></script>
    <script>
      // TODO: 5.11.7 => @latest
      window.onload = function () {
        const DisableTryItOutPlugin = function () {
          return {
            statePlugins: {
              spec: {
                wrapSelectors: {
                  allowTryItOutFor: () => () => false,
                },
              },
            },
          };
        }

        const ui = SwaggerUIBundle({
          url: "/backend-api/swagger.json",
          dom_id: "#swagger-ui",
          deepLinking: true,
          tryItOutEnabled: false, // this is not hide "Try it out" button
          supportedSubmitMethods: [], // but this hide "Try it out" button
          plugins: [DisableTryItOutPlugin],
        });
      }
    </script>
  </body>
</html>
